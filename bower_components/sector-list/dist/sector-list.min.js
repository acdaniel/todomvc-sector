/** sector-list v0.1.8 | (c) 2014 Adam Daniel <adam@acdaniel.com> | MIT license */
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var i=t;i=i.sector||(i.sector={}),i=i.ext||(i.ext={}),i.list=e()}}(function(){return function e(t,i,n){function s(r,o){if(!i[r]){if(!t[r]){var c="function"==typeof require&&require;if(!o&&c)return c(r,!0);if(l)return l(r,!0);throw new Error("Cannot find module '"+r+"'")}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return s(i?i:e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var l="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t){var i;try{i=e("sector")}catch(n){i=window.sector}var s=e("../mixins/list");t.exports=i.Component.define({type:"list"},i.mixins.View,s)},{"../mixins/list":3}],2:[function(e,t,i){i.mixins={List:e("./mixins/list"),Selectable:e("./mixins/selectable")},i.components={List:e("./components/list")}},{"./components/list":1,"./mixins/list":3,"./mixins/selectable":4}],3:[function(e,t){var i;try{i=e("sector")}catch(n){i=window.sector}var s=e("./selectable");t.exports=function(){this.defaults=i.defaults({},this.defaults,{itemParent:null,itemTagName:"div",itemTagAttrs:null,itemComponent:null,itemComponentOptions:null,allowMultipleSelections:!0}),this.addItem=function(e,t){var n=i.registry.findComponent(this.itemComponent),l=document.createElement(this.itemTagName);if(this.itemTagAttrs)for(var r in this.itemTagAttrs)l.setAttribute(r,this.itemTagAttrs[r]);var o=this.itemComponentOptions?i.clone(this.itemComponentOptions):{};o.id=i.uniqueId(this.id+"-i"),o.data=e,n.attachTo(l,o),"undefined"==typeof t||t>=this.itemParent.children.length?this.itemParent.appendChild(l):this.itemParent.insertBefore(l,this.itemParent.children[t]),n.prototype._mixins.indexOf(s)>-1&&this.listenTo(l,"selected",function(e){var t,n=e.target,s=e.detail.selected;this.allowMultipleSelections?(t=this._selectedElements.indexOf(n),s&&-1===t?this._selectedElements.push(n):!s&&t>=0&&this._selectedElements.splice(t,1)):(this._selectedElements[0]&&this._selectedElements[0]!==n?i.registry.findInstance(this._selectedElements[0].id).selected=!1:s||(this._selectedElements=[]),s&&(this._selectedElements[0]=n))})},this.removeItem=function(e){this.itemParent.removeChild(this.itemParent.children[e])},this.updateItem=function(e,t){var n=this.itemParent.children[e].id,s=i.registry.findInstance(n);s.update(t)},this.updateItems=function(e){var t,n,s,l,r=this.itemParent.children;if(e.length<r.length)for(t=r.length-1,n=e.length;t>=n;t--)this.itemParent.removeChild(r[t]);for(t=0,n=e.length;n>t;t++)t>=r.length?this.addItem(e[t]):(s=r[t].id,l=i.registry.findInstance(s),l.update(e[t]))},this.getSelectionData=function(){for(var e,t=new Array(this._selectedElements.length),n=0,s=this._selectedElements.length;s>n;n++)e=this._selectedElements[n].id,t[n]=i.registry.findInstance(e).data;return t},this.selectAllItems=function(){if(this.allowMultipleSelections)for(var e,t=this.itemParent.children,n=0,s=t.length;s>n;n++)e=t[n].id,i.registry.findInstance(e).selected=!0},this.unselectAllItems=function(){for(var e,t=this.itemParent.children,n=0,s=t.length;s>n;n++)e=t[n].id,i.registry.findInstance(e).selected=!1},this.before("initialize",function(){this._selectedElements=[],this.itemParent=this.itemParent||this.el,i.isString(this.itemParent)&&(this.itemParent=this.select(this.itemParent))})}},{"./selectable":4}],4:[function(e,t){var i;try{i=e("sector")}catch(n){i=window.sector}t.exports=function(){this.defaults=i.defaults({},this.defaults,{selected:!1}),Object.defineProperty(this,"selected",{get:function(){return this._selected},set:function(e){if(this.el&&this._selected!==e){this._selected=e;var t=i.createEvent("selected",{selected:e});this.el.dispatchEvent(t,{selected:this._selected})}}})}},{}]},{},[2])(2)});
